error handling 부분 리펙토링 할것

error checking order 확인해볼것